# Json

## JSON 구조

JSON은 자바스크립트의 객체 표기법으로부터 파생된 부분 집합.

따라서 JSON 데이터는 다음과 같은 자바스크립트 객체 표기법에 따른 구조로 구성.

1. JSON 데이터는 이름과 값의 쌍으로 이루어집니다.

2. JSON 데이터는 쉼표(,)로 나열됩니다.

3. 객체(object)는 중괄호({})로 둘러쌓아 표현합니다.

4. 배열(array)은 대괄호([])로 둘러쌓아 표현합니다.

## JSON 데이터
JSON 데이터는 이름과 값의 쌍으로 구성.

JSON 데이터 => 데이터 이름, 콜론(:), 값 ex) "name": "식빵"
데이터의 이름도 문자열이므로, 항상 큰따옴표("") 입력 필수.

 

데이터의 타입 

1. 숫자(number)

2. 문자열(string)

3. 불리언(boolean)

4. 객체(object)

5. 배열(array)

6. NULL

 

## JWT(Json Web Token)

JWT(JSON Web Token)란 인증에 필요한 정보들을 암호화시킨 토큰을 의미한다.
JWT 기반 인증은 JWT 토큰(Access Token)을 HTTP 헤더에 실어 서버가 클라이언트를 식별하는 방식이다
 
토큰 기반 인증 시스템은 세션을 사용하는 서버 기반 인증 시스템과 달리,
클라이언트가 서버에 접속을 하면 서버에서 해당 클라이언트에게 인증되었다는 의미로 '토큰'을 부여한다.
이 토큰은 유일하며 토큰을 발급받은 클라이언트는 또 다시 서버에 요청을 보낼 때 요청 헤더에 토큰을 심어서 보낸다.
그럼 서버에서는 클라이언트로부터 받은 토큰을 서버에서 제공한 토큰과의 일치 여부를 체크하여 인증 과정을 처리하게 된다.
 
기존의 세션기반 인증은 서버가 파일이나 데이터베이스에 세션정보를 가지고 있어야 하고 이를 조회하는 과정이 필요하기 때문에 많은 오버헤드가 발생한다.
그렇지만 JWT토큰은 서버가 인코딩한 정보를 클라이언트에게 던져주고 나면 이를 저장할 필요가 없다.

![jwt 과정](https://velog.velcdn.com/images/khyup0629/post/5c478dea-f209-4c0e-85cc-b125a57d5ef3/image.png)
1. 사용자가 로그인을 한다.
2. 서버에서는 계정정보를 읽어 사용자를 확인 후, 사용자의 고유한 ID값을 부여한 후, 기타 정보와 함께 Payload에 넣습니다.
3. JWT 토큰의 유효기간을 설정합니다.
4. 암호화할 SECRET KEY를 이용해 ACCESS TOKEN을 발급합니다.
5. 사용자는 Access Token을 받아 저장한 후, 인증이 필요한 요청마다 토큰을 헤더에 실어 보냅니다.
6. 서버에서는 해당 토큰의 Verify Signature를 SECRET KEY로 복호화한 후, 조작 여부, 유효기간을 확인합니다.
7. 검증이 완료된다면, Payload를 디코딩하여 사용자의 ID에 맞는 데이터를 가져옵니다.  

###  JWT 구조

간결한 형태의 JSON 웹 토큰은 점( .)으로 구분된 세 부분으로 구성된다.

![jwt 구조](https://velog.velcdn.com/images%2Fwalker%2Fpost%2Fa1eb54f9-4e72-4319-bb76-795ad36030b9%2Fimage.png)

#### 01. Header

헤더 는 일반적으로 JWT인 토큰 유형과 HMAC SHA256 또는 RSA와 같이 사용 중인 서명 알고리즘의 두 부분으로 구성된다.

#### 02. Payload

토큰에서 사용할 정보의 조각들인 Claim 이 담겨있다. (실제 JWT 를 통해서 알 수 있는 데이터)즉, 서버와 클라이언트가 주고받는 시스템에서 실제로 사용될 정보에 대한 내용을 담고 있다.
> Claim은 key-value 형식으로 이루어진 한 쌍의 정보
페이로드는 Registered claims, Public claims, Private claims의 세 가지 유형이 있다 .

Registed claims : 미리 정의된 클레임.(이미지 참고)
Public claims : 사용자가 정의할 수 있는 클레임 공개용 정보 전달을 위해 사용.
Private claims : 해당하는 당사자들 간에 정보를 공유하기 위해 만들어진 사용자 지정 클레임. 외부에 공개되도 상관없지만 해당 유저를 특정할 수 있는 정보들을 담는다.

#### 03. Signature
헤더의 인코딩 값과 정보의 인코딩 갑을 합친 후 비밀키로 해쉬를 하여 생성한다.
>Header와 Payload는 단순히 인코딩된 값이기 때문에 제 3자가 복호화 및 조작할 수 있지만,Signature는 서버 측에서 관리하는 비밀키가 유출되지 않는 이상 복호화할 수 없다.따라서 Signature는 토큰의 위변조 여부를 확인하는데 사용된다.

#### 04. JWT 장단점

JWT 장점

1. Header와 Payload를 가지고 Signature를 생성하므로 데이터 위변조를 막을 수 있다.
2. 인증 정보에 대한 별도의 저장소가 필요없다.
3. JWT는 토큰에 대한 기본 정보와 전달할 정보 및 토큰이 검증됬음을 증명하는 서명 등 필요한 모든 정보를 자체적으로 지니고 있다.
4. 토큰 기반으로 다른 로그인 시스템에 접근 및 권한 공유가 가능하다. (쿠키와 차이)

JWT 단점

1. 쿠키/세션과 다르게 JWT는 토큰의 길이가 길어, 인증 요청이 많아질수록 네트워크 부하가 심해진다.
2. Payload 자체는 암호화되지 않기 때문에 유저의 중요한 정보는 담을 수 없다.
3. 토큰을 탈취당하면 대처하기 어렵다.



출처: https://inpa.tistory.com/entry/WEB-📚-JWTjson-web-token-란-💯-정리#JWT_(Json_Web_Token_) [👨‍💻 Dev Scroll:티스토리]
      https://jwt.io/introduction
      https://tansfil.tistory.com/58?category=255594
      

## REST란, (=REpresentational State Transfer)

자원을 URI를 통해 명시하고, Method를 통해 해당 자원에 대한 행위를 정의하는 것을 의미합니다.
쉽게 말해서 Resource를 HTTP Method를 통해 처리하도록 설계된 아키텍처를 말합니다.

### REST API란, 

api이므로 HTML, CSS 등을 주고받을 때는 Rest 를 붙이지 않음

REST 기반으로 서비스 API를 구현한 것을 말합니다.
API란 라이브러리 제공을 통해 프로그램간에 특정 기능을 호출할 수 있는 명세를 의미합니다.
REST API를 사용하는 이유는 REST는 HTTP 표준을 기반으로 구현하므로,  HTTP를 지원하는 프로그램 언어로 클라이언트, 서버를 구현할 수 있습니다.
